<!doctype html>
<html lang="en">
  <head>
    <title>Word Guess Game</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <!--My CSS-->
    <link rel="stylesheet" type="text/css" href="assets/css/style.css">
</head>
  <body class="bg">
    <!--My JavaScript-->
    <script src="assets/javascript/game.js"></script>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

    <!--Code for main body-->
   


    <!--Nav bar-->
   
    <nav class="navbar navbar-expand-sm navbar-dark">
        <div class="container">
        <img class="Disney" src="assets/images/walt_disney_PNG37.png" width="300px" height="100%">
        <a href="https://fontmeme.com/fonts/waltograph-disney-font/"><img src="https://fontmeme.com/permalink/190920/b55dfee7d45e2d3076cbcfe384d9a0a9.png" alt="waltograph-disney-font" border="0"></a>
    </nav>

<div class="container">
    <div class="MainContent">
        <div class="Wrapper">
            <div class="row">
                <div class="col-5">
                    <div class="GameInfo"><p>Click any letter below to get started!</p></div>   
                    <p id=GuessesLeft></p>
                </div>

            </div>
            <div class="row">
                <div class="col-12">
                <p id="underscores"></p>
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    <div id="TopRow"></div>
                </div>
            </div>
            <div class="row">
                    <div class="col-12">
                        <div id="MidRow"></div>
                    </div>
                </div>
            <div class="row">
                <div class="col-12">
                    <div id="LowRow"></div>
                </div>
            </div>
        </div>
            
    </div>
</div>

<audio autoplay>
        <source src="assets/javascript/MainStreetElectricalParade.mp3" type="audio/mpeg">
       
       </audio>

       

<script  type='text/javascript'>
window.onload = function(){
 var TopArr = ["Q","W","E","R","T","Y","U","I","O","P"];
 var MidArr = ["A","S","D","F","G","H","J","K","L"];
 var LowArr = ["Z","X","C","V","B","N","M"];
 var EmptyArr = [];
 var WordArr = ["PRINCESS", "MALEFICENT", "CINDERELLA", "JASMINE", "DALMATIONS", "JAFAR", "SIMBA"];
 var Guesses = 11;
 var Wins = 0;
 var Losses = 0;
 var SelectedWord = "";
 var Count = 1;
 var key = "";
 var WordNumber = 0;


 
//function to randomly generate Word//
function WordGenerator () {
    EmptyArr = [];
    SelectedWord = WordArr[WordNumber];
    for (i = 0; i < SelectedWord.length; i++) {
        EmptyArr[i] = '_';
    }
    document.getElementById("underscores").innerHTML = EmptyArr.join(" ");
       
}
//Compare button to word selected
function CompareWord(str) {
    
    for (var i = 0; i < str.length; i++){
        if (key.indexOf(str[i]) !== -1) {
            EmptyArr[i] = str[i];
            document.getElementById("underscores").innerHTML = EmptyArr.join(" ");
        }
       
    }
    
}
//Reset function
function Reset() {
    Guesses = 10;
    WordNumber++;
    WordGenerator();
    document.getElementById("GuessesLeft").innerHTML = "Guesses Left: " + Guesses + "<br>" + "Wins: " + Wins + "<br>" + "Losses: " + Losses;
}

//Create the buttons to  press//
 
 for (var i = 0;  i < TopArr.length; i++){
     var Btn = document.createElement("BUTTON");
     Btn.setAttribute("btnData",TopArr[i]);
     Btn.classList.add("letter-btn");
     Btn.innerHTML = TopArr[i];
     document.getElementById("TopRow").appendChild(Btn);
 }
 for (var i = 0;  i < MidArr.length; i++){
     var Btn = document.createElement("BUTTON");
     Btn.setAttribute("btnData",MidArr[i]);
     Btn.classList.add("letter-btn");
     Btn.innerHTML = MidArr[i];
     document.getElementById("MidRow").appendChild(Btn);
 }
 for (var i = 0;  i < LowArr.length; i++){
     var Btn = document.createElement("BUTTON");
     Btn.setAttribute("btnData",LowArr[i]);
     Btn.innerHTML = LowArr[i];
     Btn.classList.add("letter-btn");
     document.getElementById("LowRow").appendChild(Btn);
 }
 var letterButtons = Array.from(document.querySelectorAll(".letter-btn"));
 
 letterButtons.forEach(function(btn){
     
    btn.addEventListener("click", function(){
        if (Count === 1) {
        WordGenerator(); // < -- I don't think this is correct
         // console.log(btn.getAttribute("btnData"));
         
         Count = 0;
         Guesses -= 1;
         document.getElementById("GuessesLeft").innerHTML = "Guesses Left: " + Guesses + "<br>" + "Wins: " + Wins + "<br>" + "Losses: " + Losses;
        
        }
        else {
            this.style.backgroundColor = "pink";
            key = btn.getAttribute("btnData");
            CompareWord(SelectedWord);
            Guesses--;
            document.getElementById("GuessesLeft").innerHTML = "Guesses Left: " + Guesses + "<br>" + "Wins: " + Wins + "<br>" + "Losses: " + Losses;
            var WinScenario = EmptyArr.includes("_");
            console.log(WinScenario);
            if (WinScenario===false){
                Wins++;
                Reset();
            }
            else if (WinScenario===true && Guesses===0){
                Losses++;
                Reset();
            }
        }
         

         // check if selected letter is in the word
     });
 });
}
</script>

</body>
</html>